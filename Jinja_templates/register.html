<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ç³»ç»Ÿæ³¨å†Œ</title>
	<link rel="stylesheet" href="{{ static('css/global.css') }}">
	<link rel="stylesheet" href="{{ static('css/btn.css') }}">
	<link rel="stylesheet" href="{{ static('css/plc.css') }}">
	<link rel="stylesheet" href="{{ static('css/cpn.css') }}">
	<link rel="stylesheet" href="{{ static('plg/sweetalert.css') }}">
	<link rel="stylesheet" href="{{ static('plg/bootstrap-3.4.1-dist/css/bootstrap.min.css') }}">
	<link rel="stylesheet" href="{{ static('plg/font-awesome-4.7.0/css/font-awesome.min.css') }}">
    <style>
        body {
            background: url("{{ static('img/login.jpg') }}") no-repeat fixed !important;
            background-size: cover !important;
        }
    </style>
</head>
<body>


<div>
	<div class="login_penal" style="background: rgba(255,255,255,0.8); border-radius: 9px; padding:20px 60px 20px 60px; margin-top: -100px; width: 550px; margin-left: -275px">
        <h2 class="text-center text-primary">æ¬¢è¿æ³¨å†Œ</h2><br>
		<h5 class="text-warning"> âš ï¸ ä»¥ä¸‹ä¸ªäººä¿¡æ¯è¯·è®¤çœŸä»”ç»†å¡«å†™ï¼Œæ¯å¡«å®Œä¸€ç±»å°†è‡ªåŠ¨é”å®šä¸”æ— æ³•ä¿®æ”¹ã€‚ï¼ˆå‹æƒ…æç¤ºï¼šè¯·åœ¨è¾“å…¥æ¡†å¤„äºæ¿€æ´»çŠ¶æ€ä¸‹ä¿®æ”¹å†…å®¹ï¼Œç‚¹å‡»ç©ºç™½å¤„å°†è‡ªåŠ¨é”å®šï¼ï¼‰</h5>
		<div class="input-group ">
			<span id="uname_sign" class="input-group-addon">ç”¨æˆ·å§“å</span>
			<input id="uname" type="text" class="form-control" placeholder="è¯·è¾“å…¥ç”¨æˆ·åï¼Œé•¿åº¦ä¸è¶…è¿‡8ä¸ªæ±‰å­—ï¼Œä¸èƒ½ä¸ºç©º">
		</div>
		<br>
		<div class="input-group">
			<span class="input-group-addon" id="basic-addon1">ç”¨æˆ·å¯†ç </span>
			<input id="upass" type="password" class="form-control" placeholder="è¯·è¾“å…¥è‡³å°‘8ä½ï¼Œä¸”åŒæ—¶åŒ…å«å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦">
		</div>
		<br>
		<div class="input-group">
			<span class="input-group-addon" id="basic-addon1">ç¡®è®¤å¯†ç </span>
			<input id="cpass" type="password" class="form-control" placeholder="è¯·å†è¾“å…¥ä¸€æ¬¡å¯†ç ï¼Œç¡®ä¿è¾“å…¥æ— è¯¯">
		</div>
		<br>
		<div class="input-group">
			<span class="input-group-addon" id="basic-addon1">å©šå§»çŠ¶å†µ</span>
			<input id="umarry" type="text" class="form-control" placeholder="æœªå©š/å·²å©š/ä¿å¯†">
		</div>
		<br>
		<div class="input-group">
			<span class="input-group-addon" id="basic-addon1">ç±&emsp;&emsp;è´¯</span>
			<input id="usource" type="text" class="form-control" placeholder="è¯·è¾“å…¥ç±è´¯ä¿¡æ¯">
		</div>
		<br>
		<div class="input-group">
			<span class="input-group-addon" id="basic-addon1">æ°‘&emsp;&emsp;æ—</span>
			<input id="ulabel" type="text" class="form-control" placeholder="å¦‚'æ±‰æ—'ç­‰">
		</div>
		<br>
		<div>
			<h5 id="s_alert" class="text-center"></h5>
			<div class="progress">
				<div id="status" class="progress-bar progress-bar-success" role="progressbar"
					 aria-valuemax="100" style="width: 0%">
				</div>
			</div>
		</div>
		<br>

		<div class="flex_around">
			<button disabled=true id="register" class="login_button btn btn-success "><i class="fa fa-check"></i> ç«‹å³æ³¨å†Œ
			</button>
		</div>
		<h5 class="text-right"><a type="button" href="/login/">è¿”å›ç™»å½• ğŸš€</a></h5>
	</div>
</div>


<script src="{{ static('plg/jquery-3.6.0.min.js') }}"></script>
<script src="{{ static('plg/sweetalert.min.js') }}"></script>
<script>
    // è¾“å…¥ä¿¡æ¯æ£€æŸ¥
    let process = 0;

    $('#uname').on('change', function () {
        let name = $('#uname').val()
        let length = name.length
        if (length >= 2 && /^[\u4e00-\u9fa5]{2,15}$/i.test(name)) {
            process += 20;
            $('#s_alert').text('')
            $('#status').css('width', process + '%')
            $('#uname').attr('disabled', true)

        } else {
            $('#s_alert').text('è¯·è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·å').addClass('text-danger')
        }
        if (process === 100) {
            $('#register').attr('disabled', false)
        }
    })

    $('#upass').on('change', function () {
        let password = $('#upass').val()
        let length = password.length
        if (length >= 8 && length <= 30 && RegExp('(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[^a-zA-Z0-9]).{8,30}').test(password)) {
            $('#s_alert').text('')
        } else {
            $('#s_alert').text('è¾“å…¥çš„å¯†ç å¤ªç®€å•äº†ï¼æˆ‘çŒœéƒ½çŒœå¾—åˆ°â€¦â€¦').addClass('text-danger')
        }
        if (process === 100) {
            $('#register').attr('disabled', false)
        }

    })

    $('#cpass').on('change', function () {
        let s_password = $('#upass').val()
        let c_password = $('#cpass').val()
        let length = c_password.length
        if (s_password === c_password && length >= 8 && length <= 30 && RegExp('(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[^a-zA-Z0-9]).{8,30}').test(c_password)) {
            $('#cpass').attr('disabled', true)
            $('#upass').attr('disabled', true)
            process += 20;
            $('#status').css('width', process + '%')


        } else {
            $('#s_alert').text('å¯†ç æ£€æŸ¥ä¸é€šè¿‡ï¼Œé‡æ–°å¡«ä¸€ä¸‹').addClass('text-danger')
        }
        if (process === 100) {
            $('#register').attr('disabled', false)
        }

    })

    $('#umarry').on('change', function () {
        let info = $('#umarry').val()
        if (info === 'æœªå©š' || info === 'å·²å©š' || info === 'ä¿å¯†') {
            $('#s_alert').text('')
            $('#umarry').attr('disabled', true)
            process += 20;
            $('#status').css('width', process + '%')
        } else {
            $('#s_alert').text('æœªå©šï¼Ÿå·²å©šï¼Ÿä¿å¯†ï¼Ÿé€‰ä¸€ä¸ªå†™ä¸Šå»å‘€').addClass('text-danger')
        }
        if (process === 100) {
            $('#register').attr('disabled', false)
        }

    })

    $('#usource').on('change', function () {
        let info = $('#usource').val()
        if (info.length >= 3) {
            $('#s_alert').text('')
            $('#usource').attr('disabled', true)
            process += 20;
            $('#status').css('width', process + '%')
        } else {
            $('#s_alert').text('ä½ ç¡®å®šä½ çš„ç±è´¯ä¿¡æ¯æ­£ç¡®å—ï¼Ÿ').addClass('text-danger')
        }
        if (process === 100) {
            $('#register').attr('disabled', false)
        }

    })

    $('#ulabel').on('change', function () {
        let info = $('#ulabel').val()
        if (info.length >= 2) {
            $('#s_alert').text('')
            $('#ulabel').attr('disabled', true)
            process += 20;
            $('#status').css('width', process + '%')
        } else {
            $('#s_alert').text('ä½ ç¡®å®šä½ çš„æ°‘æ—ä¿¡æ¯æ­£ç¡®å—ï¼Ÿ').addClass('text-danger')
        }
        if (process === 100) {
            $('#register').attr('disabled', false)
        }

    })

    $('#register').click(function () {
        swal({
            title: "ä½ ç¡®å®šå°±è¿™æ ·æ³¨å†Œå—?",
            text: "å¦‚æœå–æ¶ˆï¼Œä½ éœ€è¦åˆ·æ–°é¡µé¢é‡æ–°å¡«å†™",
            type: "info",
            showCancelButton: true,
            closeOnConfirm: false,
            showLoaderOnConfirm: true,
            confirmButtonText: "æ˜¯çš„ï¼Œç«‹å³æ³¨å†Œ",
            cancelButtonText: "ä¸ï¼Œæˆ‘å†æƒ³æƒ³",
        }, function () {
            // Ajax to send info to the server.


            $.ajax({
				url: '',
				type: 'POST',
				data: {
					'uname': $('#uname').val(),
					'cpass': $('#cpass').val(),
					'umarry': $('#umarry').val(),
					'usource': $('#usource').val(),
					'ulabel': $('#ulabel').val(),
				},
				success : function () {
					location.href = '/login/'
                }
			})


        });
    })



</script>
</body>
</html>